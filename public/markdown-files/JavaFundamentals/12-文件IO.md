# Java文件IO

![文件IO](images\文件IO.png)

#### 1. File类概述

##### 1.1 File类介绍

`File类`是Java中处理 `文件和文件夹`的核心类

- **功能**：只能对 `文件本身`进行操作，`内容读写`需要使用 `IO流`
- **作用**：创建、删除、重命名文件和目录
- **位置**：`java.io.File`

```java
import java.io.File;
import java.io.IOException;

public class FileDemo {
    public static void main(String[] args) throws IOException {
        // 创建File对象
        File file = new File("test.txt");
    
        // 判断文件是否存在
        if (!file.exists()) {
            // 创建新文件
            boolean created = file.createNewFile();
            System.out.println("文件创建：" + created);
        }
    
        System.out.println("文件名：" + file.getName());
        System.out.println("绝对路径：" + file.getAbsolutePath());
    }
}
```

##### 1.2 路径概念

###### 1.2.1 盘符

- **Windows**：字母 + 冒号，例如 `"C:"`
- **Linux**：无盘符，使用挂载点，以 `/`开头

###### 1.2.2 分隔符

```java
public class PathSeparatorDemo {
    public static void main(String[] args) {
        // 不同操作系统的分隔符
        System.out.println("系统分隔符：" + File.separator);
    
        // 推荐使用方式
        String path1 = "root" + File.separator + "data" + File.separator + "file.txt";
    
        // 使用String.join方法
        String path2 = String.join(File.separator, "root", "data", "file.txt");
    
        System.out.println("路径1：" + path1);
        System.out.println("路径2：" + path2);
    
        // 直接使用斜杠（推荐）
        File file = new File("root/data/file.txt");
    }
}
```

###### 1.2.3 相对路径和绝对路径

```java
import java.io.File;

public class PathTypeDemo {
    public static void main(String[] args) {
        // 相对路径
        File relativeFile1 = new File("./Documents/file.txt");  // 当前目录
        File relativeFile2 = new File("Documents/file.txt");    // 省略./
        File relativeFile3 = new File("../Documents/file.txt"); // 上级目录
    
        // 绝对路径
        File absoluteFileWin = new File("C:\\Users\\username\\Documents\\file.txt");
        File absoluteFileLinux = new File("/home/username/Documents/file.txt");
    
        System.out.println("相对路径1：" + relativeFile1.getPath());
        System.out.println("相对路径2：" + relativeFile2.getPath());
        System.out.println("相对路径3：" + relativeFile3.getPath());
    
        // 获取绝对路径
        System.out.println("转换为绝对路径：" + relativeFile1.getAbsolutePath());
    }
}
```

#### 2. File类API

##### 2.1 路径获取方法

```java
import java.io.File;

public class FilePathDemo {
    public static void main(String[] args) {
        File file = new File("Documents/projects/demo.txt");
    
        // 获得绝对路径
        String absolutePath = file.getAbsolutePath();
        System.out.println("绝对路径：" + absolutePath);
    
        // 获得父目录路径
        String parent = file.getParent();
        System.out.println("父目录路径：" + parent);
    
        // 获得文件名（包括后缀名）
        String name = file.getName();
        System.out.println("文件名：" + name);
    
        // 获得父目录File对象
        File parentFile = file.getParentFile();
        System.out.println("父目录对象：" + parentFile);
    
        // 获得路径
        String path = file.getPath();
        System.out.println("路径：" + path);
    }
}
```

##### 2.2 文件状态判断

```java
import java.io.File;
import java.io.IOException;

public class FileStatusDemo {
    public static void main(String[] args) throws IOException {
        File file = new File("test.txt");
        File directory = new File("testDir");
    
        // 创建文件和目录用于测试
        file.createNewFile();
        directory.mkdir();
    
        // 判断是否存在
        boolean exists = file.exists();
        System.out.println("文件存在：" + exists);
    
        // 判断是否是目录
        boolean isDirectory = file.isDirectory();
        System.out.println("是目录：" + isDirectory);
    
        // 判断是否是文件
        boolean isFile = file.isFile();
        System.out.println("是文件：" + isFile);
    
        // 获得文件长度（字节）
        long length = file.length();
        System.out.println("文件大小：" + length + " 字节");
    
        // 判断是否可读
        boolean canRead = file.canRead();
        System.out.println("可读：" + canRead);
    
        // 判断是否可写
        boolean canWrite = file.canWrite();
        System.out.println("可写：" + canWrite);
    
        // 判断是否隐藏
        boolean isHidden = file.isHidden();
        System.out.println("隐藏文件：" + isHidden);
    }
}
```

#### 3. 文件操作

##### 3.1 文件创建、删除、重命名

```java
import java.io.File;
import java.io.IOException;

public class FileOperationDemo {
    public static void main(String[] args) throws IOException {
        File file = new File("./Documents/file.txt");
    
        // 创建文件
        boolean created = file.createNewFile();
        if (created) {
            System.out.println("文件创建成功");
        } else {
            System.out.println("文件已存在，创建失败");
        }
    
        // 删除文件
        boolean deleted = file.delete();
        if (deleted) {
            System.out.println("文件删除成功");
        } else {
            System.out.println("文件不存在，删除失败");
        }
    
        // 重新创建文件用于重命名演示
        file.createNewFile();
    
        // 重命名文件
        File newFile = new File("./Documents/file2.txt");
        boolean renamed = file.renameTo(newFile);
        if (renamed) {
            System.out.println("文件重命名成功");
        } else {
            System.out.println("文件重命名失败");
        }
    }
}
```

#### 4. 目录操作

##### 4.1 目录创建、删除、重命名

```java
import java.io.File;

public class DirectoryOperationDemo {
    public static void main(String[] args) {
        File folder = new File("./Documents/folder");
        File multiFolder = new File("./Documents/level1/level2/level3");
    
        // 创建单层目录
        boolean created = folder.mkdir();
        if (created) {
            System.out.println("单层目录创建成功");
        } else {
            System.out.println("目录已存在或创建失败");
        }
    
        // 创建多层目录
        boolean createdMulti = multiFolder.mkdirs();
        if (createdMulti) {
            System.out.println("多层目录创建成功");
        } else {
            System.out.println("目录已存在或创建失败");
        }
    
        // 删除目录（只能删除空目录）
        boolean deleted = folder.delete();
        if (deleted) {
            System.out.println("目录删除成功");
        } else {
            System.out.println("目录不为空或删除失败");
        }
    
        // 重命名目录
        File newFolder = new File("./Documents/newFolder");
        folder.mkdir(); // 重新创建
        boolean renamed = folder.renameTo(newFolder);
        if (renamed) {
            System.out.println("目录重命名成功");
        }
    }
}
```
